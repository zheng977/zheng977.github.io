---
import type { Author } from "../types/types";

interface Props {
  authors: Author[];
}

const { authors } = Astro.props;
const topGroup = authors.slice(0, 2);
const bottomGroup = authors.slice(2);
---

<div class="flex flex-col items-center gap-3 text-center">
  <div class="flex flex-row flex-wrap justify-center gap-x-8 gap-y-3">
    {
      topGroup.map((author) => (
        <div class="flex flex-col items-center text-center">
          <div class="flex flex-row text-xl">
            {author.url ? <a href={author.url}>{author.name}</a> : author.name}
            {author.notes && (
              <sup class="text-xl">
                {author.notes.map(
                  (note, index, array) =>
                    note + (index < array.length - 1 ? "," : ""),
                )}
              </sup>
            )}
          </div>
          {author.institution && <div>{author.institution}</div>}
        </div>
      ))
    }
  </div>
  <div class="flex flex-row flex-wrap justify-center gap-x-8 gap-y-3">
    {
      bottomGroup.map((author) => (
        <div class="flex flex-col items-center text-center">
          <div class="flex flex-row text-xl">
            {author.url ? <a href={author.url}>{author.name}</a> : author.name}
            {author.notes && (
              <sup class="text-xl">
                {author.notes.map(
                  (note, index, array) =>
                    note + (index < array.length - 1 ? "," : ""),
                )}
              </sup>
            )}
          </div>
          {author.institution && <div>{author.institution}</div>}
        </div>
      ))
    }
  </div>
</div>
